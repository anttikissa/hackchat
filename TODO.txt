# Items to do

Handle redis downtime more gracefully (now session is just undefined in the
session interceptor).

Implement more graceful server reconnecting.
    Server should hold onto old connections while the new server is starting.
    Then, when the new one is ready to accept connections, it should stop
    listening, tell the new server to start listening, and inform its clients to
    reconnect.

    This likely requires some child process magic.

Reimplement old stuff.
    ... what else?

Make channels work so that localhost/#foo,bar works again.

Immediately reconnect when user issues a command.
    socket.io magic?

Make sure that messages directed to an user are sent even though the user is
disconnected for some reason.  Have User have a queue of unsent messages (which
are then, discarded, if they pile up uncollected?)?

Implement something like "*** zum is on channels: #foo #bar #zot" that is sent
to client when socket is connected, and have the client update its channel
status from there.  This will also come as part of a `/whois` result.

Reorganize code.
    Mostly done, still need to delete the old stuff once it gets reimplemented.

See what ircII does better when joining a channel. (Listing the participants,
how does it look?)

Topics

Private messages.

More informative help. With links that do /help say (e.g.) automatically.

Clicking on channel should show info about channel.

"1 people on #foo" -> 1 person

/join foo - you're already on that channel!
    Should just add channel to the current connection/socket.

    And it shouldn't be the default.

Logs...

/whois

Any unique prefix of a command should work

Nick collisions
    Actually, not at all important!

# To do... later

Why is reconnect broken?
    Fixed with a inglorious socket.io hack - get back to this later.



